import{b as f,c as E,d as S,h as x}from"./chunk-YH4QL553.js";import{h,i as y}from"./chunk-MD3CO55M.js";import{Ba as v,Ka as s,Ma as e,Na as n,Oa as d,Pa as c,Qa as t,Ra as m,Sa as b,Ua as P,oa as r,ta as p,xa as g}from"./chunk-4OWOSQKN.js";var _=(l,o,i,a)=>({"bg-secondary":l,"bg-warning text-dark":o,"bg-success":i,"bg-danger":a});function C(l,o){if(l&1&&(e(0,"tr")(1,"td"),t(2),n(),e(3,"td"),t(4),n(),e(5,"td"),t(6),n(),e(7,"td"),t(8),n(),e(9,"td"),t(10),n(),e(11,"td"),t(12),n(),e(13,"td"),t(14),n(),e(15,"td")(16,"span",14),t(17),n()()()),l&2){let i=o.$implicit;r(2),m(i.id),r(2),m(i.reference),r(2),m(i.amount),r(2),m(i.currency),r(2),m(i.paymentMethod),r(2),m(i.reservationId),r(2),m(i.userId),r(2),s("ngClass",P(9,_,i.status,i.status==="INITIATED",i.status=="SUCCESS",i.status==="FAILED")),r(),b(" ",i.status||"-"," ")}}var I=class l{constructor(o,i){this.paymentService=o;this.router=i}payments=[];currentPage=0;pageSize=5;totalPages=0;ngOnInit(){this.loadPayments(this.currentPage)}loadPayments(o){let i=`?page=${o}&size=${this.pageSize}`;this.paymentService.getAll(i).subscribe({next:a=>{this.payments=a._embedded?.paymentList||[],this.currentPage=a.page.number,this.totalPages=a.page.totalPages},error:a=>{console.error("Erreur lors du chargement des paiements :",a)}})}nextPage(){this.currentPage+1<this.totalPages&&this.loadPayments(this.currentPage+1)}prevPage(){this.currentPage>0&&this.loadPayments(this.currentPage-1)}add(){this.router.navigate([h.FRONTEND_ROUTES.PAIEMENT+"/edit"])}static \u0275fac=function(i){return new(i||l)(p(y),p(x))};static \u0275cmp=g({type:l,selectors:[["app-paiement-list"]],decls:43,vars:5,consts:[[1,"container","mt-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[1,"btn","btn-success",3,"click"],[1,"bi","bi-plus-circle","me-1"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","align-middle"],[1,"table-light"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","mt-3"],[1,"btn","btn-outline-primary",3,"click","disabled"],[1,"bi","bi-chevron-left"],[1,"text-muted"],[1,"bi","bi-chevron-right"],[1,"badge",3,"ngClass"]],template:function(i,a){i&1&&(e(0,"div",0)(1,"div",1)(2,"h2",2),t(3,"Liste des paiements"),n(),e(4,"button",3),c("click",function(){return a.add()}),d(5,"i",4),t(6," Nouveau "),n()(),e(7,"div",5)(8,"table",6)(9,"thead",7)(10,"tr")(11,"th"),t(12,"ID"),n(),e(13,"th"),t(14,"R\xE9f\xE9rence"),n(),e(15,"th"),t(16,"Montant"),n(),e(17,"th"),t(18,"Devise"),n(),e(19,"th"),t(20,"M\xE9thode"),n(),e(21,"th"),t(22,"R\xE9servation"),n(),e(23,"th"),t(24,"Utilisateur"),n(),e(25,"th"),t(26,"Statut"),n()()(),e(27,"tbody"),v(28,C,18,14,"tr",8),n()()(),e(29,"div",9)(30,"button",10),c("click",function(){return a.prevPage()}),d(31,"i",11),t(32," Pr\xE9c\xE9dent "),n(),e(33,"span",12),t(34," Page "),e(35,"strong"),t(36),n(),t(37," sur "),e(38,"strong"),t(39),n()(),e(40,"button",10),c("click",function(){return a.nextPage()}),t(41," Suivant "),d(42,"i",13),n()()()),i&2&&(r(28),s("ngForOf",a.payments),r(2),s("disabled",a.currentPage===0),r(6),m(a.currentPage+1),r(3),m(a.totalPages),r(),s("disabled",a.currentPage+1>=a.totalPages))},dependencies:[E,S,f],encapsulation:2})};export{I as PaiementListComponent};
